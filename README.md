
# FileConver

`FileConver` 是一款基于 **WPF** 设计的上位机应用程序，主要用于将用户选择的文件转换为 **C 语言数组**（C Array），并输出为 **Hex** 格式。此程序适用于嵌入式开发、硬件开发、数据传输和资源嵌入等场景，能够方便地将二进制数据嵌入到单片机或其他嵌入式系统中。

## 功能概述

### 1. 文件选择与上传
用户可以通过 **文件对话框** 选择任意类型的文件（如 `.txt`, `.png`, `.mp3`, 等），将其上传到程序中。上传的文件将会被转换成对应的二进制数据，并生成对应的 **C 数组**。

### 2. 文件转化为 C 数组
程序会读取文件的二进制数据，并将其转换成 `uint8_t` 数组格式，每16个字节输出一行。每个字节以 `0xXX` 的格式表示。

### 3. 生成 C 文件
除了将文件数据转化为 C 数组，程序还支持将转换后的 C 数组保存为 `.c` 文件，用户可以在嵌入式项目中直接使用这个 C 文件。

### 4. 支持多种文件格式
`FileConver` 支持多种文件格式的转换，包括但不限于：
- 文本文件（`.txt`）
- 图片文件（`.png`, `.jpg`）
- 音频文件（`.mp3`, `.wav`）
- 任意二进制文件（如 `.bin`）

### 5. 可选生成 C 文件
程序提供了可选项，允许用户在转换后将 C 数组直接保存为 `.c` 文件，方便开发者直接在嵌入式系统中使用。

### 6. 可视化界面
采用 **WPF** 技术，界面简洁、易用，支持简单的交互和文件管理。用户可以方便地选择文件、查看输出、切换页面、查看历史记录等。

## 使用说明

### 步骤一：选择文件
点击 **“上传文件”** 按钮，选择文件进行上传。程序会显示文件路径以及文件名称。

### 步骤二：开始转换
点击 **“开始转换”** 按钮，程序会根据选择的文件生成对应的 C 数组，并在输出框中显示结果。

### 步骤三：生成 C 文件
如果需要将 C 数组保存为 `.c` 文件，勾选 **“生成 C 文件”** 选项，然后点击 **“开始转换”**。程序会在文件所在的目录生成一个 C 文件，包含转换后的 C 数组。

### 步骤四：查看输出
转换完成后，用户可以在主界面上查看生成的 C 数组和 Hex 数据。所有数据都可复制或导出为文件。

## 代码示例

以下是一个生成 C 数组的示例：

```c
#include <stdint.h>

const uint8_t example_data[] = {
    0x68, 0x65, 0x6C, 0x6C, 0x6F, 0x20, 0x77, 0x6F,
    0x72, 0x6C, 0x64, 0x21, 0x0A
};
const size_t example_data_size = 12;
```

这是将 `"Hello world!"` 转换为 C 数组的结果。每个字符以十六进制表示，`0x68` 对应字符 `H`，`0x65` 对应字符 `e`，依此类推。

### 文件头标识

对于图像、音频等文件格式，程序会自动检测并处理文件头。例如，对于 PNG 文件，它的文件头通常是：

```c
const uint8_t prtsc_data[] = {
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A,
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52
};
```

这样，用户可以确保文件数据被正确转换为数组，并在嵌入式开发中使用。

## 适用场景

### 1. 嵌入式开发
在嵌入式系统中，经常需要将图像、音频等资源嵌入到固件中。`FileConver` 提供了一种简便的方式，直接将这些资源文件转化为 C 数组，便于在嵌入式系统中进行引用。

### 2. 固件开发
在固件开发过程中，资源文件（如图像、声音等）往往需要以二进制形式嵌入到程序中，`FileConver` 可以帮助开发者快速生成嵌入式资源的 C 数组。

### 3. 数据转换与传输
`FileConver` 可以将任意文件转为二进制形式的 C 数组，这对于数据传输、存储或者加密等场景非常有用。

### 4. 资源文件管理
开发者可以使用该工具来管理项目中的二进制资源，将所有资源以 C 数组的形式进行管理，并且可以方便地嵌入到固件或应用程序中。

## 技术栈

- **WPF**: 用于构建桌面应用程序，提供丰富的用户界面。
- **C#**: 用于编写后端逻辑，包括文件转换、文件操作等。
- **.NET Framework**: 用于支持 WPF 和文件操作功能。
- **File I/O**: 用于读取文件内容并将其转换为二进制数据。

## 注意事项

- 确保文件路径有效且文件能够正常读取。
- 生成的 C 文件需要在嵌入式项目中进行正确的引用和处理。
- 支持多种文件格式，但并非所有格式都能正确识别，具体格式支持情况请根据需要进行调整。